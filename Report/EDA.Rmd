---
title: "DA_Project"
author: "Nina"
date: "4/20/2022"
output: html_document
---

```{r, echo = FALSE, message = FALSE}
source(here::here("Scripts/SetUp.R"))
```

### EDA


# Response attribute transformation
 
```{r }
n <- dim(bands3_reduced)[1]
p <- dim(bands3_reduced)[2]
```
n = ROW = 540 observartions 
p = COLUMN = 29 variables/characteristics

## Data structure and summary

```{r }
x<-inspect_types(bands3_reduced)
show_plot(x, col_palette=2)
```
We have 17 numerical variables and 11 character. 
 
```{r }
str(bands3_reduced)
head(bands3_reduced)
summary(bands3_reduced)
describe(bands3_reduced)
as_tibble(bands3_reduced)
datatable(bands3_reduced)
```

```{r }
dfSummary(bands3_reduced, style = "grid")
```

# DataExpolrer library

```{r }
introduce(bands3_reduced)
plot_intro(bands3_reduced)
```


# Missing observations
```{r }
nrows <- nrow(bands3_reduced)
n.missing <- rowSums(is.na(bands3_reduced))
sum(n.missing > 0)/nrows
```
0.4796296
```{r }
n.complete <- sum(complete.cases(bands3_reduced))
n.complete/nrows
```
0.5203704

```{r}
x<-inspect_na(bands3_reduced)
show_plot(x, col_palette=5)
```

# 1. We plot the numerical variables: 

```{r }
plot_histogram(bands3_reduced)
```

```{r }
plot_density(bands3_reduced,
             ggtheme = theme_bw()) # Density plots
```

```{r}
plot_boxplot(bands3_reduced, by = 'band_type',  ncol = 2,
             title = "Side-by-side boxplots") # Boxplot

```


# 2. We plot the categorical variables: 

```{r}
bands3_reduced %>%
  keep(is.character) %>%
  gather() %>%
  ggplot(aes(value)) +
  facet_wrap(~ key, scales = "free") +
  geom_bar(stat="count") +
  coord_flip()
```


# e. Variables summaries of quantitative variables 
```{r }
quali <- c(29,1:11)
quanti<-12:28
mat<-matrix(0, length(quanti), 7)
colnames(mat)<-c("Min.", "1st Qu.", "Median", "Mean", "Sd", "3rd Qu.", "Max.")
rownames(mat)<-names(bands3_reduced)[quanti]
mat[,1]<-apply(bands3_reduced[,quanti], 2, min, na.rm=TRUE)
mat[,2]<-apply(bands3_reduced[,quanti], 2, quantile, 0.25, na.rm=TRUE)
mat[,3]<-apply(bands3_reduced[,quanti], 2, median, na.rm=TRUE)
mat[,4]<-apply(bands3_reduced[,quanti], 2, mean, na.rm=TRUE)
mat[,5]<-apply(bands3_reduced[,quanti], 2, sd, na.rm=TRUE)
mat[,6]<-apply(bands3_reduced[,quanti], 2, quantile, 0.75, na.rm=TRUE)
mat[,7]<-apply(bands3_reduced[,quanti], 2, max, na.rm=TRUE)
print(round(mat, 2))
```


# f. Correlation 

We split numerical and categorical variables: 
```{r}
bands3_reduced.num<-bands3_reduced[,quanti]
bands3_reduced.categoric <- bands3_reduced[,quali]
```

Correlation plot between numerical variables
```{r}
plot_correlation(bands3_reduced.num, type= 'c', cor_args = list( 'use' = 'complete.obs'))
```
No correlation, independant variables except 'ink_pct' & 'varnish_pct' (nagatively correlated) .

Relationships between continuous variables.
```{r}
bands3_continuous <- bands3_reduced.num[,c(3,6,8,10:13)]

plot_correlation(bands3_continuous, type= 'c', cor_args = list( 'use' = 'complete.obs'))
```


## 2.3 Outliers
 







